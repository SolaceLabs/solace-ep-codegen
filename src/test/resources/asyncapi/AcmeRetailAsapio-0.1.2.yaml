---
components:
  schemas:
    AsapioOrderCreated:
      MARA:
      - MANDT: "100"
        MATERIAL_TYPE: "FERT"
        ERSDA: "20200909"
        LOGSYS: "ERDCLNT100"
        BASE_UNIT: "ST"
        MATERIAL_NUMBER: "CP_5001_001"
        STFAK: "0 "
        MATKL: "015"
        MAKT:
        - SPRAS: "E"
          SHORT_TEXT: "Chocolate Chip Cookies 250 g test â‚¬"
          MARM:
          - UMREN: 1
            GROSS_WEIGHT: 4.8
            EAN11: ""
            WIDTH: 0
            HEIGHT: 0
            UMREZ: 10
            WEIGHT_UNIT: "KG"
            ADDITIONAL_UNIT: "KAR"
          - UMREN: 1
            GROSS_WEIGHT: 120
            EAN11: ""
            WIDTH: 0
            HEIGHT: 0
            UMREZ: 150
            WEIGHT_UNIT: "KG"
            ADDITIONAL_UNIT: "LAG"
          - UMREN: 1
            GROSS_WEIGHT: 480
            EAN11: ""
            WIDTH: 0
            HEIGHT: 0
            UMREZ: 600
            WEIGHT_UNIT: "KG"
            ADDITIONAL_UNIT: "PAL"
          - UMREN: 1
            GROSS_WEIGHT: 0.25
            EAN11: ""
            WIDTH: 0
            HEIGHT: 0
            UMREZ: 1
            WEIGHT_UNIT: "KG"
            ADDITIONAL_UNIT: "ST"
      x-ep-schema-version: "0.0.1"
      x-ep-schema-state-id: "2"
      x-ep-schema-version-id: "lbab9yp0lck"
      x-ep-schema-id: "z94xc4gvsmb"
      x-parser-schema-id: "AsapioOrder"
      x-ep-schema-state-name: "RELEASED"
      x-ep-schema-name: "AsapioOrderCreated"
      x-ep-application-domain-id: "sfdq3pd8bcw"
      x-ep-schema-version-displayname: "AsapioOrderCreated"
      x-ep-shared: "true"
      x-ep-application-domain-name: "AcmeRetail - SAP S/4"
    Retail_Order:
      x-ep-schema-version: "0.1.3"
      x-ep-schema-state-id: "2"
      x-ep-schema-version-id: "da6twwdzwyb"
      x-ep-schema-id: "9xw7jd923hf"
      x-ep-schema-state-name: "RELEASED"
      x-ep-schema-name: "Retail Order"
      type: "object"
      x-ep-application-domain-id: "9n3oj6yfxm3"
      properties:
        price:
          type: "number"
          minimum: 0
        billTo:
          type: "object"
          properties:
            zip:
              type: "string"
            address:
              type: "string"
            city:
              type: "string"
            name:
              type: "string"
            state:
              type: "string"
        name:
          type: "string"
        sku:
          type: "string"
        shipTo:
          type: "object"
          properties:
            zip:
              type: "string"
            address:
              type: "string"
            city:
              type: "string"
            name:
              type: "string"
            state:
              type: "string"
      x-ep-schema-version-displayname: ""
      x-ep-shared: "true"
      x-ep-application-domain-name: "AcmeRetail - Store Operations"
  messages:
    OrderCreated:
      x-ep-event-id: "gs6q7pecs38"
      x-ep-event-version-displayname: "OrderCreated"
      description: "This is an example of a full event generated by the Asapio Add-on\
        \ (also available as Event Enablement Add-on)."
      x-ep-application-domain-id: "sfdq3pd8bcw"
      schemaFormat: "application/vnd.aai.asyncapi+json;version=2.0.0"
      x-ep-event-state-name: "RELEASED"
      x-ep-shared: "true"
      x-ep-application-domain-name: "AcmeRetail - SAP S/4"
      x-ep-event-version-id: "48c3xkd73ka"
      payload:
        $ref: "#/components/schemas/AsapioOrderCreated"
      x-ep-event-version: "0.0.2"
      x-ep-event-name: "OrderCreated"
      contentType: "application/json"
      x-ep-event-state-id: "2"
    Retail_Order:
      x-ep-event-id: "jcbnyrt7dtx"
      x-ep-event-version-displayname: ""
      x-ep-custom-attr-sensitivity: "pci"
      description: "State change information about a single product order, from birth\
        \ (regardless if from a store, mobile application or 3rd party) until fulfillment.\n\
        \nA single product order typically  contain multiple products."
      x-ep-application-domain-id: "9n3oj6yfxm3"
      schemaFormat: "application/vnd.aai.asyncapi+json;version=2.0.0"
      x-ep-event-state-name: "RELEASED"
      x-ep-shared: "true"
      x-ep-application-domain-name: "AcmeRetail - Store Operations"
      x-ep-event-version-id: "f5wignab3df"
      payload:
        $ref: "#/components/schemas/Retail_Order"
      x-ep-event-version: "0.1.2"
      x-ep-event-name: "Retail Order"
      x-ep-custom-attr-confidentiality: "internal"
      contentType: "application/json"
      x-ep-event-state-id: "2"
channels:
  acmeRetail/storeOps/retailOrder/{retailOrderVerb}/v1/{storeLocation}/{customerId}/{orderId}:
    publish:
      bindings:
        solace:
          destinations:
          - destinationType: "queue"
            queue:
              name: "asapioBridge.retailOrder.payments"
              topicSubscriptions:
              - "acmeRetail/storeOps/retailOrder/customerPaid/v1/*/*/*"
              - "acmeRetail/storeOps/retailOrder/onlinePaid/v1/*/*/*"
          bindingVersion: "0.3.0"
      message:
        $ref: "#/components/messages/Retail_Order"
    parameters:
      retailOrderVerb:
        schema:
          type: "string"
          enum:
          - "customerInitiated"
          - "customerCancelled"
          - "customerCompleted"
          - "customerPaid"
          - "onlineInitiated"
          - "onlineCancelled"
          - "onlineCompleted"
          - "onlinePaid"
          - "onlineFulfilled"
        x-ep-enum-state-name: "RELEASED"
        x-ep-enum-version-displayname: ""
        x-ep-enum-version: "0.1.1"
        x-ep-enum-name: "Retail Order Verbs"
        x-ep-enum-state-id: "2"
        x-ep-application-domain-id: "9n3oj6yfxm3"
        x-ep-enum-version-id: "uyef7go9jg1"
        x-ep-enum-id: "kj01k3vfspr"
        x-ep-shared: "true"
        x-ep-parameter-name: "retailOrderVerb"
        x-ep-application-domain-name: "AcmeRetail - Store Operations"
      storeLocation:
        schema:
          type: "string"
          enum:
          - "3487"
          - "3488"
          - "3489"
          - "3490"
          - "3491"
          - "3492"
          - "3493"
          - "3494"
          - "3495"
          - "3496"
          - "3497"
          - "3498"
          - "3499"
          - "3500"
          - "3501"
          - "3502"
          - "3503"
          - "3504"
          - "3505"
          - "3506"
          - "3507"
          - "3508"
          - "3509"
          - "3555"
          - "Mobile Application"
          - "Test Data Generation"
          - "Inhouse Traffic"
          - "Partner"
        x-ep-enum-state-name: "RELEASED"
        x-ep-enum-version-displayname: ""
        x-ep-enum-version: "0.1.1"
        x-ep-enum-name: "Store Locations"
        x-ep-enum-state-id: "2"
        x-ep-application-domain-id: "9n3oj6yfxm3"
        x-ep-enum-version-id: "fdolp49969n"
        x-ep-enum-id: "4xdj8kaz1le"
        x-ep-shared: "true"
        x-ep-parameter-name: "storeLocation"
        x-ep-application-domain-name: "AcmeRetail - Store Operations"
      orderId:
        schema:
          type: "string"
        x-ep-parameter-name: "orderId"
      customerId:
        schema:
          type: "string"
        x-ep-parameter-name: "customerId"
  acmeRetail/sap/purchaseOrder/created/v1/{SAPInstance}/{OrgID}/{BusinessObjectID}:
    subscribe:
      message:
        $ref: "#/components/messages/OrderCreated"
    parameters:
      OrgID:
        schema:
          type: "string"
        x-ep-parameter-name: "OrgID"
      BusinessObjectID:
        schema:
          type: "string"
          enum:
          - "v1"
        x-ep-enum-state-name: "RELEASED"
        x-ep-enum-version-displayname: "APIVersion"
        x-ep-enum-version: "0.0.1"
        x-ep-enum-name: "APIVersion"
        x-ep-enum-state-id: "2"
        x-ep-application-domain-id: "sfdq3pd8bcw"
        x-ep-enum-version-id: "ykwtvyhccrx"
        x-ep-enum-id: "nvql2900ygg"
        x-ep-shared: "true"
        x-ep-parameter-name: "BusinessObjectID"
        x-ep-application-domain-name: "AcmeRetail - SAP S/4"
      SAPInstance:
        schema:
          type: "string"
        x-ep-parameter-name: "SAPInstance"
asyncapi: "2.5.0"
info:
  x-ep-application-version: "0.1.2"
  x-ep-application-version-id: "9iuqlg748yv"
  x-ep-application-id: "3goaieu9ydj"
  description: "The ASAPIO bridge takes events from SAP and puts them on the Event\
    \ Mesh"
  x-ep-state-name: "RELEASED"
  title: "ASAPIO bridge to/from SAP"
  x-ep-application-domain-id: "sfdq3pd8bcw"
  version: "0.1.2"
  x-ep-state-id: "2"
  x-ep-application-domain-name: "AcmeRetail - SAP S/4"
  