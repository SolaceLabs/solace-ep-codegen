{
    "components": {
        "schemas": {
            "CoffeeShop-Order_Details": {
                "x-ep-schema-version": "0.1.0",
                "x-ep-schema-version-id": "aj3kve48ht9",
                "$schema": "http://json-schema.org/draft-04/schema#",
                "x-ep-schema-state-name": "DRAFT",
                "x-ep-schema-name": "CoffeeShop-Order Details",
                "type": "object",
                "x-ep-application-domain-id": "npk9dbprdsy",
                "x-ep-schema-version-displayname": "",
                "x-ep-shared": "false",
                "x-ep-application-domain-name": "CoffeeShop - Order Management",
                "x-ep-schema-state-id": "1",
                "x-ep-schema-id": "w955t9m4w1z",
                "properties": {
                    "pickupTime": {
                        "type": "string"
                    },
                    "orderId": {
                        "type": "integer"
                    },
                    "specialInstructions": {
                        "type": "string"
                    },
                    "items": {
                        "type": "array",
                        "items": [
                            {
                                "type": "object",
                                "properties": {
                                    "quantity": {
                                        "type": "integer"
                                    },
                                    "productID": {
                                        "type": "string"
                                    },
                                    "size": {
                                        "type": "string"
                                    },
                                    "options": {
                                        "type": "array",
                                        "items": [
                                            {
                                                "type": "string"
                                            },
                                            {
                                                "type": "string"
                                            }
                                        ]
                                    },
                                    "productName": {
                                        "type": "string"
                                    }
                                }
                            },
                            {
                                "type": "object",
                                "properties": {
                                    "quantity": {
                                        "type": "integer"
                                    },
                                    "productID": {
                                        "type": "string"
                                    },
                                    "productName": {
                                        "type": "string"
                                    }
                                }
                            }
                        ]
                    }
                }
            },
            "CoffeeShop-Order_ETA_": {
                "x-ep-schema-version": "0.1.0",
                "x-ep-schema-version-id": "fl2o97vxspn",
                "$schema": "http://json-schema.org/draft-04/schema#",
                "x-ep-schema-state-name": "RELEASED",
                "x-ep-schema-name": "CoffeeShop-Order ETA ",
                "type": "object",
                "x-ep-application-domain-id": "npk9dbprdsy",
                "x-ep-schema-version-displayname": "",
                "x-ep-shared": "false",
                "x-ep-application-domain-name": "CoffeeShop - Order Management",
                "x-ep-schema-state-id": "2",
                "x-ep-schema-id": "gszut0s4r6g",
                "properties": {
                    "eta": {
                        "type": "string"
                    },
                    "orderID": {
                        "type": "integer"
                    },
                    "requestId": {
                        "type": "integer"
                    }
                }
            },
            "CoffeeShop-New_Order": {
                "x-ep-schema-version": "0.1.0",
                "x-ep-schema-version-id": "3r79c9ts9ug",
                "$schema": "http://json-schema.org/draft-04/schema#",
                "x-ep-schema-state-name": "DRAFT",
                "x-ep-schema-name": "CoffeeShop-New Order",
                "type": "object",
                "x-ep-application-domain-id": "npk9dbprdsy",
                "x-ep-schema-version-displayname": "",
                "x-ep-shared": "false",
                "x-ep-application-domain-name": "CoffeeShop - Order Management",
                "x-ep-schema-state-id": "1",
                "x-ep-schema-id": "afvoratl49q",
                "properties": {
                    "pickupTime": {
                        "type": "string"
                    },
                    "sourceType": {
                        "type": "string"
                    },
                    "totalPrice": {
                        "type": "number"
                    },
                    "requestId": {
                        "type": "integer"
                    },
                    "specialInstructions": {
                        "type": "string"
                    },
                    "source": {
                        "type": "string"
                    },
                    "region": {
                        "type": "string"
                    },
                    "storeID": {
                        "type": "integer"
                    },
                    "items": {
                        "type": "array",
                        "items": [
                            {
                                "type": "object",
                                "properties": {
                                    "quantity": {
                                        "type": "integer"
                                    },
                                    "productID": {
                                        "type": "string"
                                    },
                                    "size": {
                                        "type": "string"
                                    },
                                    "options": {
                                        "type": "array",
                                        "items": [
                                            {
                                                "type": "string"
                                            },
                                            {
                                                "type": "string"
                                            }
                                        ]
                                    },
                                    "productName": {
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "productID",
                                    "productName",
                                    "quantity",
                                    "size",
                                    "options"
                                ]
                            },
                            {
                                "type": "object",
                                "properties": {
                                    "quantity": {
                                        "type": "integer"
                                    },
                                    "productID": {
                                        "type": "string"
                                    },
                                    "productName": {
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "productID",
                                    "productName",
                                    "quantity"
                                ]
                            }
                        ]
                    },
                    "customer": {
                        "type": "object",
                        "properties": {
                            "phone": {
                                "type": "string"
                            },
                            "name": {
                                "type": "string"
                            },
                            "email": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "CoffeeShop-OrderStatus": {
                "x-ep-schema-version": "0.1.0",
                "x-ep-schema-version-id": "6o0ul242o85",
                "$schema": "http://json-schema.org/draft-04/schema#",
                "x-ep-schema-state-name": "RELEASED",
                "x-ep-schema-name": "CoffeeShop-OrderStatus",
                "type": "object",
                "x-ep-application-domain-id": "npk9dbprdsy",
                "x-ep-schema-version-displayname": "",
                "x-ep-shared": "false",
                "x-ep-application-domain-name": "CoffeeShop - Order Management",
                "x-ep-schema-state-id": "2",
                "x-ep-schema-id": "jck6z8tdzyg",
                "properties": {
                    "orderId": {
                        "type": "integer"
                    },
                    "items": {
                        "type": "array",
                        "items": [
                            {
                                "type": "object",
                                "properties": {
                                    "quantity": {
                                        "type": "integer"
                                    },
                                    "productID": {
                                        "type": "string"
                                    },
                                    "productName": {
                                        "type": "string"
                                    },
                                    "status": {
                                        "type": "string"
                                    }
                                }
                            }
                        ]
                    }
                }
            }
        },
        "messages": {
            "OM-Order_Update": {
                "x-ep-event-id": "ba7oyiwjyuc",
                "x-ep-event-version-displayname": "",
                "description": "",
                "x-ep-application-domain-id": "npk9dbprdsy",
                "schemaFormat": "application/vnd.aai.asyncapi+json;version=2.0.0",
                "x-ep-event-state-name": "DRAFT",
                "x-ep-shared": "false",
                "x-ep-application-domain-name": "CoffeeShop - Order Management",
                "x-ep-event-version-id": "4jvxi1ftcfg",
                "payload": {
                    "$ref": "#/components/schemas/CoffeeShop-OrderStatus"
                },
                "x-ep-event-version": "0.1.0",
                "x-ep-event-name": "OM-Order Update",
                "contentType": "application/json",
                "x-ep-event-state-id": "1"
            },
            "OM-Order_Details": {
                "x-ep-event-id": "nuxulcdc0tf",
                "x-ep-event-version-displayname": "",
                "description": "",
                "x-ep-application-domain-id": "npk9dbprdsy",
                "schemaFormat": "application/vnd.aai.asyncapi+json;version=2.0.0",
                "x-ep-event-state-name": "DRAFT",
                "x-ep-shared": "false",
                "x-ep-application-domain-name": "CoffeeShop - Order Management",
                "x-ep-event-version-id": "v07s6h4iff9",
                "payload": {
                    "$ref": "#/components/schemas/CoffeeShop-Order_Details"
                },
                "x-ep-event-version": "0.1.0",
                "x-ep-event-name": "OM-Order Details",
                "contentType": "application/json",
                "x-ep-event-state-id": "1"
            },
            "BS-Order_Completed": {
                "x-ep-event-id": "62dm78mhbxp",
                "x-ep-event-version-displayname": "",
                "description": "",
                "x-ep-application-domain-id": "npk9dbprdsy",
                "schemaFormat": "application/vnd.aai.asyncapi+json;version=2.0.0",
                "x-ep-event-state-name": "DRAFT",
                "x-ep-shared": "false",
                "x-ep-application-domain-name": "CoffeeShop - Order Management",
                "x-ep-event-version-id": "h2d2wq5k7xi",
                "payload": {
                    "$ref": "#/components/schemas/CoffeeShop-OrderStatus"
                },
                "x-ep-event-version": "0.1.0",
                "x-ep-event-name": "BS-Order Completed",
                "contentType": "application/json",
                "x-ep-event-state-id": "1"
            },
            "OM-New_Order": {
                "x-ep-event-id": "jf1hojreijl",
                "x-ep-event-version-displayname": "",
                "description": "",
                "x-ep-application-domain-id": "npk9dbprdsy",
                "schemaFormat": "application/vnd.aai.asyncapi+json;version=2.0.0",
                "x-ep-event-state-name": "DRAFT",
                "x-ep-shared": "false",
                "x-ep-application-domain-name": "CoffeeShop - Order Management",
                "x-ep-event-version-id": "5rc8km69hdk",
                "payload": {
                    "$ref": "#/components/schemas/CoffeeShop-New_Order"
                },
                "x-ep-event-version": "0.1.0",
                "x-ep-event-name": "OM-New Order",
                "contentType": "application/json",
                "x-ep-event-state-id": "1"
            },
            "KF-Order_Ready": {
                "x-ep-event-id": "6xhtve663jj",
                "x-ep-event-version-displayname": "",
                "description": "",
                "x-ep-application-domain-id": "npk9dbprdsy",
                "schemaFormat": "application/vnd.aai.asyncapi+json;version=2.0.0",
                "x-ep-event-state-name": "DRAFT",
                "x-ep-shared": "false",
                "x-ep-application-domain-name": "CoffeeShop - Order Management",
                "x-ep-event-version-id": "jejxojztop9",
                "payload": {
                    "$ref": "#/components/schemas/CoffeeShop-OrderStatus"
                },
                "x-ep-event-version": "0.1.0",
                "x-ep-event-name": "KF-Order Ready",
                "contentType": "application/json",
                "x-ep-event-state-id": "1"
            },
            "KF-Order_Prep_Started": {
                "x-ep-event-id": "9cvdjc3zr0r",
                "x-ep-event-version-displayname": "",
                "description": "",
                "x-ep-application-domain-id": "npk9dbprdsy",
                "schemaFormat": "application/vnd.aai.asyncapi+json;version=2.0.0",
                "x-ep-event-state-name": "DRAFT",
                "x-ep-shared": "false",
                "x-ep-application-domain-name": "CoffeeShop - Order Management",
                "x-ep-event-version-id": "qp0aia9tve6",
                "payload": {
                    "$ref": "#/components/schemas/CoffeeShop-Order_ETA_"
                },
                "x-ep-event-version": "0.1.0",
                "x-ep-event-name": "KF-Order Prep Started",
                "contentType": "application/json",
                "x-ep-event-state-id": "1"
            },
            "KF-Order_OutOfStock": {
                "x-ep-event-id": "1m7oehasx03",
                "x-ep-event-version-displayname": "",
                "description": "",
                "x-ep-application-domain-id": "npk9dbprdsy",
                "schemaFormat": "application/vnd.aai.asyncapi+json;version=2.0.0",
                "x-ep-event-state-name": "DRAFT",
                "x-ep-shared": "false",
                "x-ep-application-domain-name": "CoffeeShop - Order Management",
                "x-ep-event-version-id": "2xamoyz7i7e",
                "payload": {
                    "$ref": "#/components/schemas/CoffeeShop-OrderStatus"
                },
                "x-ep-event-version": "0.1.0",
                "x-ep-event-name": "KF-Order OutOfStock",
                "contentType": "application/json",
                "x-ep-event-state-id": "1"
            }
        }
    },
    "channels": {
        "coffeeshop/order/status/v1/ready/{source}/{country}/{storeId}/{orderId}": {
            "publish": {
                "bindings": {
                    "solace": {
                        "destinations": [
                            {
                                "destinationType": "queue",
                                "queue": {
                                    "name": "COFFEE.ORDERMGT.STATUS",
                                    "topicSubscriptions": [
                                        "coffeeshop/order/status/v1/completed/*/*/*/*",
                                        "coffeeshop/order/status/v1/outofstock/*/*/*/*",
                                        "coffeeshop/order/status/v1/ready/*/*/*/*"
                                    ]
                                }
                            }
                        ],
                        "bindingVersion": "0.3.0"
                    }
                },
                "message": {
                    "$ref": "#/components/messages/KF-Order_Ready"
                }
            },
            "parameters": {
                "country": {
                    "schema": {
                        "type": "string"
                    },
                    "x-ep-parameter-name": "country"
                },
                "orderId": {
                    "schema": {
                        "type": "string"
                    },
                    "x-ep-parameter-name": "orderId"
                },
                "source": {
                    "schema": {
                        "type": "string"
                    },
                    "x-ep-parameter-name": "source"
                },
                "storeId": {
                    "schema": {
                        "type": "string"
                    },
                    "x-ep-parameter-name": "storeId"
                }
            }
        },
        "coffeeshop/order/status/v1/inprogress/{source}/{country}/{storeId}/{orderId}": {
            "publish": {
                "message": {
                    "$ref": "#/components/messages/KF-Order_Prep_Started"
                }
            },
            "parameters": {
                "country": {
                    "schema": {
                        "type": "string"
                    },
                    "x-ep-parameter-name": "country"
                },
                "orderId": {
                    "schema": {
                        "type": "string"
                    },
                    "x-ep-parameter-name": "orderId"
                },
                "source": {
                    "schema": {
                        "type": "string"
                    },
                    "x-ep-parameter-name": "source"
                },
                "storeId": {
                    "schema": {
                        "type": "string"
                    },
                    "x-ep-parameter-name": "storeId"
                }
            }
        },
        "coffeeshop/order/update/v1/{source}/{country}/{storeId}/{requestId}": {
            "subscribe": {
                "message": {
                    "$ref": "#/components/messages/OM-Order_Update"
                }
            },
            "parameters": {
                "country": {
                    "schema": {
                        "type": "string"
                    },
                    "x-ep-parameter-name": "country"
                },
                "requestId": {
                    "schema": {
                        "type": "string"
                    },
                    "x-ep-parameter-name": "requestId"
                },
                "source": {
                    "schema": {
                        "type": "string"
                    },
                    "x-ep-parameter-name": "source"
                },
                "storeId": {
                    "schema": {
                        "type": "string"
                    },
                    "x-ep-parameter-name": "storeId"
                }
            }
        },
        "coffeeshop/order/details/v1/{source}/{country}/{storeId}/{orderId}": {
            "subscribe": {
                "message": {
                    "$ref": "#/components/messages/OM-Order_Details"
                }
            },
            "parameters": {
                "country": {
                    "schema": {
                        "type": "string"
                    },
                    "x-ep-parameter-name": "country"
                },
                "orderId": {
                    "schema": {
                        "type": "string"
                    },
                    "x-ep-parameter-name": "orderId"
                },
                "source": {
                    "schema": {
                        "type": "string"
                    },
                    "x-ep-parameter-name": "source"
                },
                "storeId": {
                    "schema": {
                        "type": "string"
                    },
                    "x-ep-parameter-name": "storeId"
                }
            }
        },
        "coffeeshop/order/status/v1/completed/{source}/{country}/{storeId}/{orderId}": {
            "publish": {
                "bindings": {
                    "solace": {
                        "destinations": [
                            {
                                "destinationType": "queue",
                                "queue": {
                                    "name": "COFFEE.ORDERMGT.STATUS",
                                    "topicSubscriptions": [
                                        "coffeeshop/order/status/v1/completed/*/*/*/*",
                                        "coffeeshop/order/status/v1/outofstock/*/*/*/*",
                                        "coffeeshop/order/status/v1/ready/*/*/*/*"
                                    ]
                                }
                            }
                        ],
                        "bindingVersion": "0.3.0"
                    }
                },
                "message": {
                    "$ref": "#/components/messages/BS-Order_Completed"
                }
            },
            "parameters": {
                "country": {
                    "schema": {
                        "type": "string"
                    },
                    "x-ep-parameter-name": "country"
                },
                "orderId": {
                    "schema": {
                        "type": "string"
                    },
                    "x-ep-parameter-name": "orderId"
                },
                "source": {
                    "schema": {
                        "type": "string"
                    },
                    "x-ep-parameter-name": "source"
                },
                "storeId": {
                    "schema": {
                        "type": "string"
                    },
                    "x-ep-parameter-name": "storeId"
                }
            }
        },
        "coffeeshop/order/status/v1/outofstock/{source}/{country}/{storeId}/{orderId}": {
            "publish": {
                "bindings": {
                    "solace": {
                        "destinations": [
                            {
                                "destinationType": "queue",
                                "queue": {
                                    "name": "COFFEE.ORDERMGT.STATUS",
                                    "topicSubscriptions": [
                                        "coffeeshop/order/status/v1/completed/*/*/*/*",
                                        "coffeeshop/order/status/v1/outofstock/*/*/*/*",
                                        "coffeeshop/order/status/v1/ready/*/*/*/*"
                                    ]
                                }
                            }
                        ],
                        "bindingVersion": "0.3.0"
                    }
                },
                "message": {
                    "$ref": "#/components/messages/KF-Order_OutOfStock"
                }
            },
            "parameters": {
                "country": {
                    "schema": {
                        "type": "string"
                    },
                    "x-ep-parameter-name": "country"
                },
                "orderId": {
                    "schema": {
                        "type": "string"
                    },
                    "x-ep-parameter-name": "orderId"
                },
                "source": {
                    "schema": {
                        "type": "string"
                    },
                    "x-ep-parameter-name": "source"
                },
                "storeId": {
                    "schema": {
                        "type": "string"
                    },
                    "x-ep-parameter-name": "storeId"
                }
            }
        },
        "coffeeshop/order/new/v1/{source}/{country}/{storeId}/{requestId}": {
            "publish": {
                "bindings": {
                    "solace": {
                        "destinations": [
                            {
                                "destinationType": "queue",
                                "queue": {
                                    "name": "COFFEE.ORDERMGT.NEWORDER",
                                    "topicSubscriptions": [
                                        "coffeeshop/order/new/v1/*/*/*/*"
                                    ]
                                }
                            }
                        ],
                        "bindingVersion": "0.3.0"
                    }
                },
                "message": {
                    "$ref": "#/components/messages/OM-New_Order"
                }
            },
            "parameters": {
                "country": {
                    "schema": {
                        "type": "string"
                    },
                    "x-ep-parameter-name": "country"
                },
                "requestId": {
                    "schema": {
                        "type": "string"
                    },
                    "x-ep-parameter-name": "requestId"
                },
                "source": {
                    "schema": {
                        "type": "string"
                    },
                    "x-ep-parameter-name": "source"
                },
                "storeId": {
                    "schema": {
                        "type": "string"
                    },
                    "x-ep-parameter-name": "storeId"
                }
            }
        }
    },
    "asyncapi": "2.5.0",
    "info": {
        "x-ep-application-version": "0.1.0",
        "x-ep-application-version-id": "b9axv6h7pn9",
        "x-ep-application-id": "vvigp8kih9e",
        "x-ep-state-name": "DRAFT",
        "title": "Order Management",
        "x-ep-application-domain-id": "npk9dbprdsy",
        "version": "0.1.0",
        "x-ep-state-id": "1",
        "x-ep-application-domain-name": "CoffeeShop - Order Management"
    }
}